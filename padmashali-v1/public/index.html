<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Padmashali Community — V1</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- ===== LOGIN (first view) ===== -->
  <section id="login" class="login-wrap">
    <div class="card glass login-card">
      <div class="login-brand">
        <img src="assets/logo.png" class="logo" alt="Logo" />
        <div>
          <h2>Login</h2>
          <p class="tiny muted">Padmashali Community</p>
        </div>
      </div>

      <div class="grid three">
        <button class="tab-mini active" data-role="member">Member</button>
        <button class="tab-mini"        data-role="committee">Committee</button>
        <button class="tab-mini"        data-role="admin">Admin</button>
      </div>

      <label class="tile-title mt-10">Enter PIN</label>
      <input id="pinInput" class="field" inputmode="numeric" maxlength="6" placeholder="••••" />

      <div class="row mt-12">
        <button id="loginBtn" class="btn">Login</button>
        <span id="loginMsg" class="tiny muted"></span>
      </div>

      <div class="tiny muted mt-8">
        Demo PINs — Member: <b>1111</b> · Committee: <b>5555</b> · Admin: <b>9999</b>
      </div>
    </div>
  </section>

  <!-- ===== APP HEADER (hidden until login) ===== -->
  <header id="appHeader" class="app-header glass hide">
    <div class="brand">
      <img src="assets/logo.png" class="logo" alt="Logo" />
      <div class="titles">
        <h1>Padmashali Community</h1>
        <p class="sub">unity • seva • growth</p>
      </div>
    </div>
    <div class="actions">
      <span id="roleBadge" class="badge">Member</span>
      <button id="langBtn" class="icon-btn">తెలుగు</button>
      <button id="themeToggle" class="icon-btn" aria-label="Theme">☀️</button>
      <button id="logoutBtn" class="icon-btn" aria-label="Logout">↩️</button>
    </div>
  </header>

  <!-- ===== BANNER ===== -->
  <section id="banner" class="banner glass hide">
    <img src="assets/banner.png" alt="Lord Shiva & Parvathi" />
  </section>

  <!-- ===== TABS ===== -->
  <nav id="tabbar" class="tabs glass hide">
    <button class="tab-btn" data-tab="home">Home</button>
    <button class="tab-btn" data-tab="directory">Directory</button>
    <button class="tab-btn" data-tab="events">Events</button>
    <button class="tab-btn" data-tab="halls">Book Halls</button>
    <button class="tab-btn" data-tab="fees">Fees</button>
    <button class="tab-btn" data-tab="loan">Loan Request</button>

    <!-- visible only for committee/admin -->
    <button class="tab-btn role-gate" data-roles="committee,admin" data-tab="manage">Manage</button>
  </nav>

  <!-- ===== CONTENT ===== -->
  <main id="content" class="hide">
    <section id="home" class="tab-content">
      <h2>Welcome</h2>

      <!-- Member-only block -->
      <div class="card glass role-gate" data-roles="member">
        <h3>Member Quick Links</h3>
        <ul class="tiny">
          <li>Book halls</li><li>Pay fees</li><li>Loan help</li>
        </ul>
      </div>

      <!-- Committee-only block -->
      <div class="card glass role-gate" data-roles="committee">
        <h3>Committee Dashboard</h3>
        <p class="muted tiny">Approve bookings • Verify fees • Review loan requests</p>
      </div>

      <!-- Admin-only block -->
      <div class="card glass role-gate" data-roles="admin">
        <h3>Admin Controls</h3>
        <p class="muted tiny">User roles • Hall pricing • System settings</p>
      </div>

      <div class="card glass">
        <h3>Community News</h3>
        <div id="newsList" class="list"></div>
      </div>
    </section>

    <section id="directory" class="tab-content">
      <h2>Member Directory</h2>
      <div class="card glass">
        <label class="tile-title">Search</label>
        <input id="dirQuery" class="field" placeholder="Name / Profession / City" />
        <div id="dirList" class="list mt-10"></div>
      </div>
    </section>

    <section id="events" class="tab-content">
      <h2>Upcoming Events</h2>
      <div id="eventList" class="list"></div>
    </section>

    <section id="halls" class="tab-content">
      <h2>Book Community Halls</h2>
      <div class="card glass">
        <div class="grid two">
          <div>
            <label class="tile-title">Select Hall</label>
            <select id="hallSel" class="field">
              <option>Hall 1</option><option>Hall 2</option>
            </select>
          </div>
          <div>
            <label class="tile-title">Date</label>
            <input id="hallDate" type="date" class="field" />
          </div>
        </div>
        <div class="grid two">
          <div>
            <label class="tile-title">Time Slot</label>
            <select id="hallTime" class="field">
              <option>Morning (8–12)</option>
              <option>Afternoon (1–5)</option>
              <option>Evening (6–10)</option>
              <option>Full Day</option>
            </select>
          </div>
          <div>
            <label class="tile-title">Purpose</label>
            <input id="hallPurpose" class="field" placeholder="e.g., Engagement, Thread Ceremony" />
          </div>
        </div>
        <div class="row mt-12">
          <button id="hallCheck" class="btn-ghost">Check Availability</button>
          <button id="hallBook" class="btn">Send Booking Request</button>
        </div>
        <div id="hallMsg" class="muted tiny mt-8"></div>
      </div>
    </section>

    <section id="fees" class="tab-content">
      <h2>Membership Fee</h2>
      <div class="card glass"><p class="muted">Pay annual / lifetime fee.</p></div>
    </section>

    <section id="loan" class="tab-content">
      <h2>Loan / Financial Help Request</h2>
      <div class="card glass">
        <div class="grid two">
          <div><label class="tile-title">Full Name</label><input id="lrName" class="field" placeholder="Applicant name" /></div>
          <div><label class="tile-title">Phone</label><input id="lrPhone" class="field" inputmode="tel" placeholder="10-digit number" /></div>
        </div>
        <div class="grid two">
          <div><label class="tile-title">Amount (₹)</label><input id="lrAmt" class="field" type="number" placeholder="e.g., 25000" /></div>
          <div><label class="tile-title">Purpose</label><input id="lrPurpose" class="field" placeholder="Medical / Education / Business / Other" /></div>
        </div>
        <label class="tile-title">Notes</label>
        <textarea id="lrNotes" rows="4" class="field" placeholder="Explain your need briefly"></textarea>
        <div class="row mt-12">
          <button id="lrSubmit" class="btn">Submit Request</button>
          <a id="lrWA" class="btn-ghost" target="_blank">Send via WhatsApp</a>
        </div>
        <div id="lrMsg" class="muted tiny mt-8"></div>
      </div>
    </section>

    <!-- Entire tab restricted to committee+admin -->
    <section id="manage" class="tab-content role-gate" data-roles="committee,admin">
      <h2>Manage</h2>
      <p class="muted">Approve hall bookings, verify fee payments, review loan requests.</p>
    </section>
  </main>

  <footer class="app-footer"><small>© Padmashali Community — V1</small></footer>

  <script src="app.js?v=10"></script>
</body>
</html>
