<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking Logs</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <img src="assets/banner.png" alt="Banner" class="banner">
  <h1 class="title">Onestop C-Demo</h1>
  <h2 class="subtitle">Booking Logs</h2>  <div class="table-container">
    <table id="logsTable">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Patient</th>
          <th>Contact</th>
          <th>Reason</th>
          <th>Token</th>
          <th>Reminder</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <tr><td colspan="7">Loading...</td></tr>
      </tbody>
    </table>
  </div>  <footer>
    <p>Powered by Onestop AI</p>
  </footer>  <script>
    const apiKey = 'patLNwoJQKE3Tjb8J.c2a0db129111c610fae64a2c01e0a626f37bdb5992232ea6ebc644fa9073dfb3';
    const baseId = 'appgplT8WiQnZiR44';
    const tableName = 'BookingsLogs';

    fetch(`https://api.airtable.com/v0/${baseId}/${tableName}?sort[][field]=Timestamp&sort[][direction]=desc`, {
      headers: { Authorization: `Bearer ${apiKey}` }
    })
    .then(res => res.json())
    .then(data => {
      const tbody = document.getElementById('tableBody');
      tbody.innerHTML = '';
      data.records.forEach(record => {
        const { Timestamp, PatientName, SlotTime, Reason, Contact, Token, ReminderSent } = record.fields;
        const dateObj = new Date(SlotTime);
        const date = dateObj.toLocaleDateString('en-GB');
        const time = dateObj.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${date}</td>
          <td>${time}</td>
          <td>${PatientName || ''}</td>
          <td>${Contact || ''}</td>
          <td>${Reason || ''}</td>
          <td>${Token || ''}</td>
          <td>${ReminderSent || ''}</td>
        `;
        tbody.appendChild(tr);
      });
    })
    .catch(err => {
      document.getElementById('tableBody').innerHTML = `<tr><td colspan="7">Error loading data</td></tr>`;
    });
  </script></body>
</html>
