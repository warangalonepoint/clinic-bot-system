<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Directory</title>
  <link rel="stylesheet" href="styles.css?v=16">
  <script src="i18n.js?v=16"></script>
  <script src="theme.js?v=16" defer></script>
  <script src="banner.js?v=16" defer></script>
</head>
<body>
<div class="wrap">
  <div id="app-banner"></div>

  <div class="card">
    <div class="pc-title" data-i18n="directory_title">Directory</div>
    <div class="pc-tagline" data-i18n="directory_sub">Search members & contacts</div>

    <div style="display:grid;gap:10px;margin-top:12px">
      <input class="input" id="q" placeholder="Search...">
      <select class="input" id="area">
        <option>Any Area</option><option>Warangal</option><option>Kazipet</option><option>Hanamkonda</option>
      </select>
      <select class="input" id="seva">
        <option>Any Seva</option><option>Education</option><option>Health</option><option>Annadanam</option>
      </select>
    </div>

    <div style="overflow:auto;margin-top:12px">
      <table style="width:100%;border-collapse:collapse">
        <thead>
          <tr style="text-align:left;border-bottom:1px solid var(--border)">
            <th style="padding:10px 8px">Name</th>
            <th style="padding:10px 8px">Area</th>
            <th style="padding:10px 8px">Seva</th>
            <th style="padding:10px 8px">Email</th>
            <th style="padding:10px 8px">Phone</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>
  </div>

  <div class="footer">© Padmashali Community — V1</div>
</div>
<script>
const data=[{name:"G. Srinivas",area:"Warangal",seva:"Education",email:"gs@example.com",phone:"9390011111"},
{name:"K. Raju",area:"Kazipet",seva:"Health",email:"kr@example.com",phone:"9390033333"},
{name:"S. Laxmi",area:"Hanamkonda",seva:"Annadanam",email:"sl@example.com",phone:"9390022222"}];

function render(){
  const q=document.getElementById('q').value.toLowerCase();
  const a=document.getElementById('area').value;
  const s=document.getElementById('seva').value;
  const out=data.filter(d=>{
    return (!q || Object.values(d).join(' ').toLowerCase().includes(q)) &&
           (a==='Any Area'||d.area===a) &&
           (s==='Any Seva'||d.seva===s);
  }).map(d=>`<tr style="border-bottom:1px solid var(--border)">
      <td style="padding:10px 8px;font-weight:800">${d.name}</td>
      <td style="padding:10px 8px">${d.area}</td>
      <td style="padding:10px 8px">${d.seva}</td>
      <td style="padding:10px 8px">${d.email}</td>
      <td style="padding:10px 8px"><a href="tel:${d.phone}">${d.phone}</a></td>
    </tr>`).join('');
  document.getElementById('rows').innerHTML=out||`<tr><td colspan="5" style="padding:12px">No results</td></tr>`;
}
['q','area','seva'].forEach(id=>document.getElementById(id).addEventListener('input',render));
render();
</script>
</body>
</html>
