<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Tracker - Onestop AI Clinic</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <div class="header">
        <h1>Leave Tracker</h1>
        <button id="themeToggle">Toggle Theme</button>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>Employee ID</th>
                    <th>Name</th>
                    <th>Leave Date</th>
                    <th>Reason</th>
                </tr>
            </thead>
            <tbody id="leaveTableBody">
                <!-- Leave entries will load here -->
            </tbody>
        </table>
    </div>

    <footer>
        <p>Powered by Onestop AI</p>
    </footer>

    <script>
        // Theme Toggle Logic
        const toggleButton = document.getElementById('themeToggle');
        toggleButton.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
        });

        window.onload = () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }

            fetch('staff-leave-tracker.csv')
                .then(response => response.text())
                .then(data => {
                    const rows = data.trim().split('\n').slice(1);
                    const tableBody = document.getElementById('leaveTableBody');
                    rows.forEach(row => {
                        const cols = row.split(',');
                        const tr = document.createElement('tr');
                        cols.forEach(col => {
                            const td = document.createElement('td');
                            td.textContent = col.trim();
                            tr.appendChild(td);
                        });
                        tableBody.appendChild(tr);
                    });
                });
        };
    </script>
</body>
</html>
