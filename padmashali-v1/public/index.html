<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Padmashali Community</title>
<style>
  :root{color-scheme:dark}
  body{margin:0;font-family:system-ui,Inter,Arial;background:#0f1115;color:#e8eaed}
  .wrap{max-width:720px;margin:24px auto;padding:16px}
  .card{background:#171a21;border:1px solid #222736;border-radius:18px;padding:18px}
  .input{width:100%;padding:14px 16px;background:#0f1218;color:#e8eaed;border:1px solid #262b38;border-radius:12px;font-size:16px}
  .btn{background:#2563eb;border:0;color:#fff;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
  .muted{opacity:.75}
</style>
<!-- Theme + i18n + banner -->
<script src="i18n.js"></script>
<script src="theme.js"></script>
<script src="banner.js"></script>
<!-- Light theme overrides -->
<style>
  html[data-theme="light"] body{ background:#f7f8fb; color:#0b1220; }
  html[data-theme="light"] .card{ background:#ffffff; border-color:#e5e7eb; }
  html[data-theme="light"] .pill{ background:#ffffff; border-color:#e5e7eb; color:#0b1220; }
</style>
</head><body>
<div class="wrap">
  <div id="app-banner"></div>

  <div class="card">
    <p class="muted" data-i18n="enter_pin">Enter your PIN</p>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <input id="pin" class="input" inputmode="numeric" maxlength="6" placeholder="••••">
      <button class="btn" id="go" data-i18n="continue">Continue</button>
    </div>
    <p class="muted" style="margin-top:10px;font-size:13px" data-i18n="members_hint">Members: 1111 · Committee: 5555 · Admin: 9999</p>
    <p id="msg" style="color:#f87171;margin-top:8px;display:none" data-i18n="invalid_pin">Invalid PIN. Try again.</p>
  </div>

  <p class="muted" style="text-align:center;margin-top:18px">© Padmashali Community — V1</p>
</div>

<script>
  const PINS={"1111":{role:"member",target:"members.html"},
              "5555":{role:"committee",target:"committee.html"},
              "9999":{role:"admin",target:"admin.html"}};
  const session=JSON.parse(localStorage.getItem("pc_session")||"null");
  if(session && session.target) location.href=session.target;

  function route(){
    const v=(document.getElementById('pin').value||'').trim();
    const hit=PINS[v]; const msg=document.getElementById('msg');
    if(!hit){ msg.style.display='block'; return; }
    localStorage.setItem('pc_session', JSON.stringify({role:hit.role,target:hit.target,ts:Date.now()}));
    location.href=hit.target;
  }
  document.getElementById('go').onclick=route;
  document.getElementById('pin').addEventListener('keydown',e=>{ if(e.key==='Enter') route(); });
</script>
</body></html>
