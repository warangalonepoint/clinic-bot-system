<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Onestop Clinic Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css?v=14">
</head>
<body>
  <div class="app-shell">

    <!-- Header -->
    <div class="header">
      <div class="brand-logo"></div>
      <div>
        <div class="title">Onestop Clinic</div>
        <div class="subtitle">Dashboard</div>
      </div>
    </div>

    <!-- Nav Tabs -->
    <div class="tabs">
      <button class="tab active">Overview</button>
      <button class="tab" onclick="location.href='./booking.html'">Quick Actions</button>
      <button class="tab" onclick="location.href='./doctor.html'">Doctors</button>
      <button class="tab" onclick="location.href='./admin.html'">Admin</button>
      <button class="tab" onclick="location.href='./about.html'">About</button>
    </div>

    <!-- Today Stats -->
    <div class="section glass">
      <h2>Today</h2>
      <div class="chart-row">
        <canvas id="chartToday" width="200" height="200"></canvas>
      </div>
      <div class="row"><div class="label">Patients Seen</div><div class="value" id="patientsSeen">-</div></div>
      <div class="row"><div class="label">Bookings Filled</div><div class="value" id="bookingsFilled">-</div></div>
      <div class="row"><div class="label">Utilization</div><div class="value" id="utilization">-</div></div>
      <div class="row"><div class="label">Avg visit</div><div class="value" id="avgVisit">-</div></div>
    </div>

    <!-- Follow-ups -->
    <div class="section glass">
      <h2>Follow-ups</h2>
      <div class="row"><div class="label">WhatsApp Reminders</div><div class="value" id="waReminders">-</div></div>
      <div class="row"><div class="label">Prescription Ready</div><div class="value" id="rxReady">-</div></div>
      <div class="row"><div class="label">Lab Results Reviewed</div><div class="value" id="labReviewed">-</div></div>
    </div>

    <!-- Footer -->
    <div class="footer">Â© 2025 Onestop Clinic</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
  // Dummy numbers (replace with Airtable fetch later)
  const stats = {
    patientsSeen: 18,
    bookingsFilled: "34 / 50",
    utilization: "68%",
    avgVisit: "17m",
    waReminders: "27 / 40",
    rxReady: "14 / 25",
    labReviewed: "9 / 20"
  };

  // Inject values
  document.getElementById("patientsSeen").textContent = stats.patientsSeen;
  document.getElementById("bookingsFilled").textContent = stats.bookingsFilled;
  document.getElementById("utilization").textContent = stats.utilization;
  document.getElementById("avgVisit").textContent = stats.avgVisit;
  document.getElementById("waReminders").textContent = stats.waReminders;
  document.getElementById("rxReady").textContent = stats.rxReady;
  document.getElementById("labReviewed").textContent = stats.labReviewed;

  // Chart
  const ctx = document.getElementById('chartToday').getContext('2d');
  new Chart(ctx,{
    type:'doughnut',
    data:{
      labels:['Seen','Remaining'],
      datasets:[{
        data:[18,32],
        backgroundColor:['#00bcd4','#e0e0e0'],
        borderWidth:0
      }]
    },
    options:{
      plugins:{legend:{display:false}},
      cutout:'70%'
    }
  });
  </script>
</body>
</html>
