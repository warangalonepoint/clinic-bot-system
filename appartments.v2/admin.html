<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Apartments â€¢ Admin</title>
<link rel="stylesheet" href="./styles.css">
<meta name="theme-color" content="#111"/>
</head><body class="bg">
<button class="logout" onclick="sessionStorage.clear();location.href='./index.html'">Logout</button>

<main class="wrap">
  <div class="card hero">
    <img class="banner" src="./assets/apartments_banner.png" alt="Apartments">
    <div class="hero-overlay">
      <img class="logo" src="./assets/logo.png" onerror="this.style.display='none'">
      <div class="hero-title" data-i18n="admin_title">Admin Console</div>
      <div class="chips">
        <button class="chip round" id="themeChip">ðŸŒ™</button>
        <button class="chip round" data-lang="en">EN</button>
        <button class="chip round" data-lang="te">TE</button>
      </div>
    </div>
  </div>

  <div class="card mt">
    <div class="grid2">
      <a class="btn w100" href="./residents.html" data-i18n="residents_title">Residents</a>
      <a class="btn w100" href="./guards.html" data-i18n="guards_title">Guards</a>
      <a class="btn w100" href="./committee.html" data-i18n="committee_title">Committee</a>
      <a class="btn w100" href="./reset.html" data-i18n="reset_cache">Reset / Cache Tools</a>
    </div>
  </div>

  <div class="gridWide mt">
    <section class="card">
      <div class="row space">
        <h2 class="h2" data-i18n="complaints_ops">Complaints Operations</h2>
        <div class="row">
          <select id="c_filter" class="in"><option value="" data-i18n="all">All</option><option>Open</option><option>In Progress</option><option>Closed</option></select>
          <input id="c_search" class="in" placeholder="Search flat/category/text" style="max-width:240px">
          <button class="btn" id="c_export" data-i18n="export_csv">Export CSV</button>
        </div>
      </div>
      <div class="tablewrap">
        <table class="tbl"><thead><tr>
          <th>#</th><th data-i18n="flat">Flat</th><th data-i18n="when">When</th>
          <th data-i18n="category">Category</th><th data-i18n="priority">Priority</th>
          <th data-i18n="status">Status</th><th data-i18n="assignee">Assignee</th>
          <th data-i18n="details">Details</th><th data-i18n="actions">Actions</th>
        </tr></thead><tbody id="c_tbody"></tbody></table>
        <div id="c_empty" class="muted" data-i18n="no_complaints">No complaints yet.</div>
      </div>
    </section>

    <aside class="card">
      <h2 class="h2" data-i18n="quick_notice">Quick Notice</h2>
      <div class="grid2">
        <label data-i18n="title_lbl">Title<input id="n_title" class="in" placeholder="e.g., Lift maintenance"></label>
        <label data-i18n="audience_lbl">Audience
          <select id="n_aud" class="in"><option value="All" data-i18n="all_residents">All Residents</option><option>Block A</option><option>Block B</option><option>Block C</option></select>
        </label>
        <label class="span2" data-i18n="message_lbl">Message
          <textarea id="n_msg" class="in" rows="4" placeholder="Short message..."></textarea>
        </label>
      </div>
      <div class="row mt8">
        <button class="btn" id="n_add" data-i18n="publish">Publish</button>
        <button class="btn secondary" id="n_export" data-i18n="export_csv">Export Notices CSV</button>
      </div>

      <hr class="divider">

      <h2 class="h2" data-i18n="today_overview">Today Overview</h2>
      <div class="row wraptags">
        <span class="pill" data-i18n="visitors">Visitors: <b id="s_vis">0</b></span>
        <span class="pill" data-i18n="deliveries">Deliveries: <b id="s_del">0</b></span>
        <span class="pill" data-i18n="open_complaints">Open Complaints: <b id="s_open">0</b></span>
        <span class="pill" data-i18n="notices_posted">Notices Posted: <b id="s_not">0</b></span>
      </div>
    </aside>
  </div>

  <div class="card mt">
    <h2 class="h2" data-i18n="export_backup">Export / Backup</h2>
    <div class="grid2">
      <button class="btn" id="x_vis" data-i18n="visitors_today">Visitors (Today)</button>
      <button class="btn" id="x_del" data-i18n="deliveries_all">Deliveries (All)</button>
      <button class="btn" id="x_compl" data-i18n="complaints_all">Complaints (All)</button>
      <button class="btn" id="x_not" data-i18n="notices_all">Notices (All)</button>
    </div>
  </div>
</main>

<script src="./lang.js"></script>
<script>
const LS_THEME='apt_theme', LS_LANG='apt_lang';
function applyTheme(){const t=localStorage.getItem(LS_THEME)||'light';document.documentElement.setAttribute('data-theme',t);document.getElementById('themeChip').textContent=t==='light'?'ðŸŒ™':'ðŸŒž';}
function toggleTheme(){localStorage.setItem(LS_THEME,(localStorage.getItem(LS_THEME)||'light')==='light'?'dark':'light');applyTheme();}
function applyLang(){document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n'); if(window.t){el.firstChild.nodeValue=t(k);}});}
document.addEventListener('click',e=>{ if(e.target.id==='themeChip') toggleTheme(); if(e.target.dataset.lang){localStorage.setItem(LS_LANG,e.target.dataset.lang); location.reload();}});
applyTheme(); applyLang();
</script>
</body></html>
