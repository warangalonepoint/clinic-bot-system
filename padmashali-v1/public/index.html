<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Padmashali Community</title>
<style>
:root{color-scheme:dark}body{margin:0;font-family:system-ui,Inter,Arial;background:#0f1115;color:#e8eaed}
.wrap{max-width:720px;margin:32px auto;padding:16px}.card{background:#171a21;border:1px solid #222736;border-radius:18px;padding:20px;box-shadow:0 8px 30px rgba(0,0,0,.35)}
.row{display:flex;gap:14px;flex-wrap:wrap}.btn{background:#2563eb;border:0;color:#fff;padding:12px 16px;border-radius:12px;font-weight:600;cursor:pointer}
input{width:100%;padding:14px 16px;background:#0f1218;color:#e8eaed;border:1px solid #262b38;border-radius:12px;font-size:16px}
.pill{display:inline-flex;align-items:center;background:#0f1218;border:1px solid #262b38;padding:6px 10px;border-radius:999px;font-size:13px;cursor:pointer}
.title{font-size:40px;line-height:1.05;margin:8px 0 4px;font-weight:800}.muted{opacity:.75}
.grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
.tile{background:#11141a;border:1px solid #1f2432;border-radius:16px;padding:16px}footer{opacity:.7;font-size:13px;margin:18px 0;text-align:center}
img.logo{width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid #262b38;background:#0f1218}
.hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
a.tile{color:inherit;text-decoration:none}
</style>
</head><body>
<div class="wrap">
  <div class="card">
    <div class="hdr">
      <div class="row" style="align-items:center">
        <img src="assets/logo.png" class="logo" alt="logo" onerror="this.style.visibility='hidden'">
        <div>
          <div class="title" data-i18n="app_title">Padmashali Community</div>
          <div class="muted" data-i18n="tagline">unity • seva • growth</div>
        </div>
      </div>
      <span id="lang-pill" class="pill" onclick="setLang(getLang()==='te'?'en':'te')">English ☀️</span>
    </div>

    <div class="tile" style="margin-bottom:14px">
      <p style="margin:.25rem 0 .75rem" data-i18n="enter_pin">Enter your PIN</p>
      <div class="row">
        <input id="pin" inputmode="numeric" maxlength="6" placeholder="••••">
        <button class="btn" id="go" data-i18n="continue">Continue</button>
      </div>
      <p class="muted" style="margin-top:10px;font-size:13px" data-i18n="members_hint">Members: 1111 · Committee: 5555 · Admin: 9999</p>
      <p id="msg" style="color:#f87171;margin-top:8px;display:none" data-i18n="invalid_pin">Invalid PIN. Try again.</p>
    </div>

    <div class="grid">
      <a class="tile" href="members.html"><b data-i18n="home">Home</b><div class="muted">Hub</div></a>
      <a class="tile" href="directory.html"><b data-i18n="directory">Directory</b><div class="muted" data-i18n="dir_sub">Search members & contacts</div></a>
      <a class="tile" href="#"><b data-i18n="events">Events</b><div class="muted">Soon</div></a>
      <a class="tile" href="#"><b data-i18n="book_halls">Book Halls</b><div class="muted">Soon</div></a>
      <a class="tile" href="#"><b data-i18n="fees">Fees</b><div class="muted">Soon</div></a>
      <a class="tile" href="#"><b data-i18n="loan_request">Loan Request</b><div class="muted">Soon</div></a>
    </div>
  </div>
  <footer>© Padmashali Community — V1</footer>
</div>

<script src="i18n.js"></script>
<script>
  // persist session redirect
  const session = JSON.parse(localStorage.getItem("pc_session")||"null");
  if (session && session.role && session.target) location.href = session.target;

  const PINS = {"1111":{role:"member",target:"members.html"},
                "5555":{role:"committee",target:"committee.html"},
                "9999":{role:"admin",target:"admin.html"}};

  document.getElementById('go').onclick = route;
  document.getElementById('pin').addEventListener('keydown', e=>{ if(e.key==='Enter') route(); });

  function route(){
    const v=(document.getElementById('pin').value||'').trim();
    const hit=PINS[v];
    const msg=document.getElementById('msg');
    if(!hit){ msg.style.display='block'; return; }
    localStorage.setItem('pc_session', JSON.stringify({role:hit.role,target:hit.target,ts:Date.now()}));
    location.href = hit.target;
  }
</script>
</body></html>
